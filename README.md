

 # Test_Work_HQ

Тестовое задание Стажер Python


## FAQ

Запуск проекта:

Убедитесь, что ваш Django проект запущен локально. Для этого вы можете использовать команду python manage.py runserver.
Получение токена:

Откройте Postman.
Создайте новый запрос

Введите URL для получения токена
```
http://127.0.0.1:8000/api/token/
```

Установите метод запроса на "POST".
Перейдите на вкладку "Body" и выберите "x-www-form-urlencoded".

Добавьте параметры username и password с соответствующими значениями вашего тестового пользователя.

Отправьте запрос.

Если аутентификация прошла успешно, вы получите ответ с токеном.
Тестирование защищенных эндпоинтов с использованием токена:

Создайте новый запрос в Postman.
Введите URL защищенного эндпоинта API
```
http://127.0.0.1:8000/api/lessons/
```
```
http://127.0.0.1:8000/api/timeinfo/
```
```
http://127.0.0.1:8000/api/products/
```
```
http://127.0.0.1:8000/api/students/
```


Установите метод запроса на "GET" или другой метод, который соответствует вашему эндпоинту.

Перейдите на вкладку "Headers" и добавьте новый заголовок Authorization со значением Bearer ваш_токен, где ваш_токен - это токен, который вы получили ранее.

Или перейдите на вкладку Authorization и выберете Type Bearer Token и введите токен полученый ранее.

Отправьте запрос.

Если аутентификация прошла успешно и токен действителен, вы получите ответ с данными из защищенного эндпоинта.

## Задание

### Построение архитектуры

#### В этом задании у нас есть три бизнес-задачи на хранение:

1. Создать сущность продукта. У продукта должен быть владелец. Необходимо добавить сущность для сохранения доступов к продукту для пользователя.

2. Создать сущность урока. Урок может находиться в нескольких продуктах одновременно. В уроке должна быть базовая информация: название, ссылка на видео, длительность просмотра (в секундах).

3. Урок могут просматривать множество пользователей. Необходимо для каждого фиксировать время просмотра и фиксировать статус “Просмотрено”/”Не просмотрено”.

Статус “Просмотрено” проставляется, если пользователь просмотрел 80% ролика.


### Написание запросов

#### В этом пункте потребуется использовать выполненную вами в прошлом задании архитектуру:

1. Реализовать API для выведения списка всех уроков по всем продуктам к которым пользователь имеет доступ, с выведением информации о статусе и времени просмотра.

2. Реализовать API с выведением списка уроков по конкретному продукту к которому пользователь имеет доступ, с выведением информации о статусе и времени просмотра, а также датой последнего просмотра ролика.

3. Реализовать API для отображения статистики по продуктам. Необходимо отобразить список всех продуктов на платформе, к каждому продукту приложить информацию:

    a. Количество просмотренных уроков от всех учеников.

    b. Сколько в сумме все ученики потратили времени на просмотр роликов.

    c. Количество учеников занимающихся на продукте.

    d. Процент приобретения продукта (рассчитывается исходя из количества полученных доступов к продукту деленное на общее количество пользователей на платформе).

### Результат выполнения

1. Выполненная архитектура на базе данных SQLite с использованием Django.

2. Реализованные API на базе готовой архитектуры.

